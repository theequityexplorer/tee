<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Permissions-Policy" content="interest-cohort=()">

  <title>Stock Data</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- <script src="src/main.js"></script> -->
  <link rel="stylesheet" type="text/css" href="src/main.css">
</head>
<body>
  <script>
  $(document).ready(function() {
    // Load data from JSON file
    $.getJSON('CandlePattern.json', function(data) {
      // Create HTML structure with data
      var sectionWrapper = $('<section class="wrapper"></section>');
      var mainTitle = $('<main class="row title"><ul></ul></main>');
      var sectionFadeInWrapper = $('<section class="row-fadeIn-wrapper"></section>');

      // Populate mainTitle with keys
      var firstData = data[0];
      $.each(firstData, function(key) {
        mainTitle.find('ul').append('<li>' + key + '</li>');
      });

      // Populate sectionFadeInWrapper with values
      $.each(data, function(_, obj) {
        var articleFadeIn = $('<article class="row fadeIn nfl"><ul></ul></article>');
        $.each(obj, function(key, value) {
            if (key === "Stock") {
                value = value.replace("NSE:", "").replace("-EQ", "");
            }
            articleFadeIn.find('ul').append('<li>' + value + '</li>');
        });
        sectionFadeInWrapper.append(articleFadeIn);
      });

      // Append elements to sectionWrapper
      sectionWrapper.append("<h4 style='padding-left:10px'>Timeframe: 5 minutes</h4>")
      sectionWrapper.append(mainTitle);
      sectionWrapper.append(sectionFadeInWrapper);


      // Append sectionWrapper to body
      $('body').append(sectionWrapper);
    });
  });
</script>
</body>
</html>